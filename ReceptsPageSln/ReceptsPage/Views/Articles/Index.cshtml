@using ReceptsPage.Models
@using System
@using PagedList.Core;


@model ReceptsPage.ViewModels.IndexSlideArticles

@{
    ViewData["Title"] = "Գլխավոր էջ";
}

<div id="myCarousel" class="carousel slide border-carusel-my" data-ride="carousel" data-interval="6000">
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
        <li data-target="#myCarousel" data-slide-to="3"></li>
        <li data-target="#myCarousel" data-slide-to="4"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        @{ string active = "";}
        @foreach (ArticleP slide in Model.GetArticlesSlide.Where(x => x.IfFavorite == true).Cast<ArticleP>().Take(5))
        {
            if (slide == Model.GetArticlesSlide.Where(x => x.IfFavorite == true).First())
            {
                active = "active";
            }
            else
            {
                active = "";
            }

            <div class="item @active">
                @{
                    var base64S = Convert.ToBase64String(slide.ImgGeneral);
                    var imgsrcS = string.Format("data:image/jpeg;base64,{0}", base64S);
                }
                <div class="view">
                    <img src="@imgsrcS" alt="Nkar" class="img-responsive" />
                    <div class="carousel-caption" role="option">
                        <p>
                            @if (slide.Description.Length > 35)
                            {
                                @slide.Description.Substring(0, 35);
                            }

                            <span style="font-size:18px">. . .  </span>
                            <a asp-area="" asp-controller="Articles" asp-action="SinglePage" asp-route-id="@slide.ArticleId" class="text-center" style="color:#ffffff;font-size:18px;">
                                <span class="btn btn-danger slidebtnIndex">Ավելին</span>
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        }


    </div>
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div class="row">
    @foreach (ArticleP entity in Model.GetArticles.Cast<ArticleP>())
    {
        @await Html.PartialAsync("Article",entity);

    }

</div>
<nav aria-label="ArticleP Padding">

    <pager class="pagination"  list="@Model.GetArticles" asp-action="Index" asp-controller="Articles" asp-route-query="@Model.GetArticles" />

</nav>